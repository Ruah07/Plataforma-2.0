// -----------------------------------------------------------------------------
// MAIN SASS FILE - PROYECTO CIDET
// -----------------------------------------------------------------------------

// 1. ABSTRACTS (Configuración y Herramientas)
@import 'abstracts/variables';
@import 'abstracts/mixins';

// 2. BASE (Reset y estilos globales)
@import 'base/reset';

// 3. LAYOUT (Estructura)
@import 'layout/header';
@import 'layout/grid';
@import 'layout/footer';

// 4. COMPONENTS (Elementos reutilizables)
@import 'components/buttons';
@import 'components/cards';
@import 'components/sidebar';

// 5. Páginas (Estilos específicos por vista)
@import 'pages/blog';
@import 'pages/contacto';
@import 'pages/cronograma';
@import 'pages/cursos';
@import 'pages/empresas';
@import 'pages/index';

// -----------------------------------------------------------------------------
// ESTILOS ESPECÍFICOS DE SECCIONES
// -----------------------------------------------------------------------------

// --- SECCIÓN HERO ---

/* ---- Contenedor Padre ---- */
.hero {
  background-color: $color-bg;
  padding: 180px 0 4rem 0; 
  position: relative; // Necesario para que las partículas se alineen aquí
  overflow: hidden;
  z-index: 1; // Capa base

  .hero-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;
    align-items: center;
    position: relative; 
    z-index: 3; // Por encima de las partículas para que los botones funcionen
    
    @include respond-to('tablet') { 
      grid-template-columns: 1.2fr 1fr; 
    }
  }
}

/* ---- Partículas (Fondo Dinámico) ---- */
#particles-js {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  z-index: 2; // Entre el fondo del hero y el texto
  background-color: #f4f4f4; // Tu color de fondo
  background-image: url("");
  background-repeat: no-repeat;
  background-size: cover;
  background-position: 50% 50%;
  
  canvas {
    display: block;
    vertical-align: bottom;
  }
}

/* ---- Stats (Opcional: Solo para desarrollo) ---- */
.count-particles {
  display: none; // Te sugiero ocultarlo en la versión final
}

  .hero-text {
    .badge {
      background-color: rgba($color-primary, 0.1);
      color: $color-primary;
      padding: 0.5rem 1rem;
      border-radius: 50px;
      font-weight: 700;
      font-size: 0.85rem;
      text-transform: uppercase;
      display: inline-block;
      margin-bottom: 1rem;
    }

    h1 {
      font-size: 2.5rem;
      line-height: 1.2;
      color: $color-text;
      margin-bottom: 1.5rem;
      font-weight: 800;

      .highlight {
        background: $grad-text;
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        color: $color-primary; // Fallback
      }
      
      @include respond-to('tablet') { font-size: 3.5rem; }
    }

    p {
      font-size: 1.1rem;
      color: lighten($color-text, 20%);
      margin-bottom: 2rem;
      max-width: 500px;
    }

    .hero-buttons {
      display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 2rem;
    }
  }

  .hero-image img { 
    width: 100%; border-radius: $border-radius; 
    transform: perspective(1000px) rotateY(-5deg);
    transition: transform 0.5s;
    &:hover { transform: perspective(1000px) rotateY(0deg); }
  }

// --- 1. BANNER SLIDE (Amplía tus conocimientos) ---
.banner-slide {
  background: $grad-purple;
  border-radius: $border-radius;
  padding: 3rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  color: white;
  margin-bottom: 3rem;
  overflow: hidden;

  .banner-content {
    max-width: 60%;
    .badge-new {
      background: rgba(255,255,255,0.2);
      padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700;
    }
    h2 { color: white; font-size: 2rem; margin: 1rem 0; font-weight: 800; }
    .btn-banner {
      display: inline-block; background: white; color: $color-primary;
      padding: 12px 30px; border-radius: 12px; font-weight: 700;
      text-decoration: none; transition: 0.3s;
      &:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
    }
  }
  .banner-img img { width: 220px; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.2)); }
}

// --- 2. BIENVENIDA Y STATS ---
.content-block {
  margin-bottom: 3rem;
  h2 { font-weight: 800; margin-bottom: 1rem; }
}

.stats-container {
  display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap;

  .stat-card {
    flex: 1; background: white; padding: 1.5rem;
    border-radius: $border-radius; text-align: center;
    border: 1px solid rgba(0,0,0,0.05); min-width: 120px;

    i { font-size: 1.5rem; color: $color-secondary; margin-bottom: 0.5rem; display: block; }
    strong { display: block; font-size: 1.5rem; color: $color-text; font-weight: 800; }
    span { font-size: 0.85rem; color: lighten($color-text, 30%); }
  }
}

// --- 3. MEMBRESÍAS (Estilo Glass) ---
.section-membresias {
  margin-bottom: 3rem;
  .membresia-card {
    background: $glass-bg;
    backdrop-filter: blur(10px);
    border: 1px solid $glass-border;
    border-radius: $border-radius;
    padding: 2rem;
    display: flex; justify-content: space-between; align-items: center; gap: 1.5rem; flex-wrap: wrap;

    .membresia-info {
      display: flex; align-items: center; gap: 1.5rem;
      i { font-size: 3rem; color: #ffd700; }
      h3 { font-weight: 800; color: $color-text; }
    }
    .btn-membresia {
      background: $color-text; color: white; padding: 14px 28px;
      border-radius: 12px; font-weight: 700; text-decoration: none;
      &:hover { background: $color-primary; }
    }
  }
}

// --- 4. PROGRAMAS (Shapes de colores) ---
.propuesta-valor {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 1.5rem; margin-top: 1.5rem;

  .valor-card {
    padding: 2rem; border-radius: $border-radius; text-align: center; transition: 0.3s;
    i { font-size: 2.5rem; margin-bottom: 1rem; display: block; }
    h4 { font-weight: 700; margin-bottom: 0.5rem; }
    
    &:hover { transform: translateY(-5px); }

    &.shape-1 { background: $shape-1; color: #d4832c; }
    &.shape-2 { background: $shape-2; color: #4c6ef5; }
    &.shape-3 { background: $shape-3; color: #51cf66; }
    &.shape-4 { background: $shape-4; color: #ff6b6b; }
  }
}

// --- 5. CATEGORÍAS DE CURSOS ---
.cat-group {
  margin-top: 3.5rem;
  h3 { display: flex; align-items: center; gap: 10px; font-weight: 800; margin-bottom: 1.5rem; }
}

.cursos-grid {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;
}

.curso-mini-card {
  background: white; padding: 1.5rem; border-radius: 16px;
  border-left: 6px solid #eee; box-shadow: 0 4px 15px rgba(0,0,0,0.03);

  &.standar { border-left-color: $color-secondary; }
  &.premium { border-left-color: #fab005; background: #fffdf5; }
  &.diplomado { border-left-color: $color-primary; background: #fff5f6; }

  .tag { font-size: 0.7rem; font-weight: 800; color: #999; text-transform: uppercase; }
  h4 { margin: 0.5rem 0; font-weight: 700; }
  .btn-text { color: $color-primary; font-weight: 700; text-decoration: none; }
}

// --- 6. IMPACTO CIDET ---
.impacto-section {
  margin-top: 4rem;
  h3 { font-weight: 800; margin-bottom: 2rem; }
  .highlight { color: $color-primary; }
}

.impacto-item {
  display: flex; gap: 1.5rem; margin-bottom: 1.5rem;
  padding: 1.5rem; background: white; border-radius: $border-radius;
  border: 1px solid #eee;

  .check-icon {
    width: 45px; height: 45px; background: $color-primary;
    color: white; border-radius: 50%;
    display: flex; align-items: center; justify-content: center; flex-shrink: 0;
  }
  h4 { font-weight: 700; margin-bottom: 0.3rem; }
  p { font-size: 0.9rem; color: #666; }
}

// Efecto de Imagen Pop-Out con Brillo Glare
.promo-item {
    background: white;
    border-radius: 16px;
    // Quitamos el hidden para que la imagen pueda "sobresalir" al crecer
    overflow: hidden; 
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    transition: box-shadow 0.3s ease, transform 0.3s ease;
    position: relative;
    z-index: 1;

    .promo-link {
        text-decoration: none;
        display: block;
        color: inherit;
    }

    .promo-image-wrapper {
        position: relative;
        /* IMPORTANTE: Quitamos overflow hidden de aquí para que la imagen 
        salga del div. Usaremos una máscara interna si necesitas brillo.
        */
        overflow: visible; 
        border-radius: 16px 16px 0 0;
        margin-top: -10px; // Pequeño ajuste para que parezca "flotar"

        img {
            width: 100%;
            display: block;
            border-radius: 16px; // Mantenemos bordes redondeados en la imagen
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        // --- EFECTO DE BRILLO (Ahora contenido en la imagen) ---
        &::after {
            content: '';
            position: absolute;
            top: 0;
            left: -150%;
            width: 50%;
            height: 100%;
            background: linear-gradient(
                to right, 
                rgba(255,255,255,0) 0%, 
                rgba(255,255,255,0.4) 50%, 
                rgba(255,255,255,0) 100%
            );
            transform: skewX(-25deg);
            transition: 0.7s;
            pointer-events: none;
            z-index: 2;
        }
    }

    .promo-content {
        padding: 1.2rem;
        text-align: center;
        position: relative;
        z-index: 3; // Asegura que el texto esté sobre cualquier sombra

        h4 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: $color-text;
        }

        p {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 1.2rem;
        }
    }

    .btn-cta {
        display: inline-block;
        background: $grad-text;
        color: white;
        padding: 0.8rem 1.5rem;
        border-radius: 50px;
        font-weight: 700;
        font-size: 0.8rem;
        text-transform: uppercase;
        transition: 0.3s;
        box-shadow: 0 4px 10px rgba($color-primary, 0.3);

        i {
            margin-left: 8px;
            transition: transform 0.3s ease;
        }
    }

    // ==========================================
    // HOVER: LA IMAGEN SOBRESALE DEL CONTENEDOR
    // ==========================================
    &:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.12);
        z-index: 10; // Para que pase por encima de otros elementos si crecen

        // La imagen escala y sale de los límites del div padre
        .promo-image-wrapper img {
            transform: scale(1.1) translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        // El brillo cruza la imagen
        .promo-image-wrapper::after {
            left: 150%;
        }

        // El botón solo mueve su flecha
        .btn-cta i {
            transform: translateX(5px);
        }
    }
}